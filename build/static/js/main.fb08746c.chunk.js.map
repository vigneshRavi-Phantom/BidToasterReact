{"version":3,"sources":["config/constant.ts","contexts/LocalizationContextProvider.tsx","contexts/ModalContextProvider.tsx","components/Loading.tsx","routes/routes.tsx","utils/ApolloUtils.ts","App.tsx","reportWebVitals.ts","index.tsx","utils/CommonUtils.ts","utils/ServiceAPIUtil.ts","graphql/auth.ts","contexts/AuthContextProvider.tsx","graphql/users.ts"],"names":["require","config","API_URL","JWTToken","process","DEFAULT_LANGUAGE","APP_LANGUAGE_KEY","strings","LocalizedStrings","en","LocalizationContext","createContext","setAppLanguage","_","appLanguage","LocalizationContextProvider","children","useState","setLanguage","language","setItem","useEffect","console","debug","a","getItem","currentLanguage","initAppLanguage","Provider","value","useLocalization","context","useContext","undefined","Error","initialState","isModal","modalData","isDeleteModal","openModal","closeModal","openDeleteModal","deleteModalData","closeDeleteModal","ModalContext","ModalContextProvider","useReducer","state","action","name","dispatch","modalActions","React","useMemo","useModal","Loading","style","width","height","display","alignItems","justifyContent","animation","variant","NoMatch","lazy","Home","Login","Signup","VendorSignup","ForgotPassword","ResetPassword","Dashboard","AdminResetPassword","Users","OrgVendors","OrgItems","RFQ","VendorRFQBiddingDetails","BuyerRFQBiddingDetails","Profile","VendorProfile","Comparison","GuestRoute","accessToken","useAuth","location","useLocation","to","from","ProtectedRoute","RoutesScreen","fallback","path","element","authLink","ApolloLink","operation","forward","setContext","headers","authorization","getToken","uploadLink","createUploadLink","uri","credentials","client","ApolloClient","link","concat","cache","InMemoryCache","ApolloProvider","App","AuthContextProvider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","key","localStorage","error","isToken","tokenData","JSON","parse","validateFileExt","fileName","validFileExtensions","length","blnValid","j","validExt","substr","toLowerCase","getComparisonData","reqValues","axios","method","url","data","res","isSuccess","endpoint","payload","responseCode","errorCode","err","networkError","graphQLErrors","forEach","message","LOGIN_QUERY","gql","FORGOT_PASSWORD_QUERY","RESET_PASSWORD_QUERY","PASSWORD_RESET_TOKEN_VALID_QUERY","REFRESH_TOKEN_QUERY","userType","userAccessType","refetchAccountProfile","signup","vendorSignup","login","forgotPassword","resetPassword","isPasswordResetTokenValid","refreshToken","logout","AuthContext","apolloClient","useApolloClient","useMutation","SIGNUP_QUERY","userSignup","VENDOR_SIGNUP_QUERY","userVendorSignup","_state","accountProfile","tokenObj","authActions","doLogout","authCheck","doLogin","response","accessTokenDecrypt","jwt","verify","stringify","getAccountProfile","useCallback","query","ACCOUNT_PROFILE_QUERY","variables","input","username","password","fetchPolicy","email","token","oldPassword","passwordResetTokenValid","formValues","authChildren","GET_VENDOR_PROFILE_QUERY","GET_DASHBOARD_OVERVIEW_QUERY","GET_DASHBOARD_CHART_OVERVIEW_QUERY","GET_USERS_QUERY","GET_ORG_VENDORS_QUERY","CREATE_USER_MUTATION","CREATE_ORG_VENDOR_MUTATION","UPDATE_USER_MUTATION","UPDATE_USER_PROFILE_MUTATION","UPDATE_VENDOR_PROFILE_MUTATION","DELETE_USER_MUTATION","DELETE_ORG_VENDOR_MUTATION"],"mappings":"0GAAAA,sEAAQ,KAAUC,SAClB,IAKaC,EAFY,+BAGZC,EAAYC,gB,0LCFnBC,EAAmB,KACnBC,EAAmB,cAEnBC,EAAU,IAAIC,IAAiB,CAAEC,OAE1BC,EAAsBC,wBAAc,CAC7CJ,QAASA,EACTK,eAAgB,SAACC,KACjBC,YAAaT,IAOJU,EAA8B,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,SAA8C,EAClDC,mBAASZ,GADyC,mBACjFS,EADiF,KACpEF,EADoE,KAGlFM,EAAc,SAACC,GACjBZ,EAAQW,YAAYC,GACpBP,EAAeO,GACfC,YAAQd,EAAkBa,IAmB9B,OAbAE,qBAAU,WACNC,QAAQC,MAAM,wCAEO,uCAAG,4BAAAC,EAAA,sEACUC,YAAQnB,GADlB,OACdoB,EADc,OAEpBR,EAAYQ,GAAmBrB,GAFX,2CAAH,oDAMrBsB,KAED,IAGC,cAACjB,EAAoBkB,SAArB,CACIC,MAAO,CACHtB,UACAK,eAAgBM,EAChBJ,eAJR,SAMKE,KAKAc,EAAkB,WAC3B,IAAMC,EAAUC,qBAAWtB,GAC3B,QAAgBuB,IAAZF,EACA,MAAM,IAAIG,MAAM,6DAEpB,OAAOH,I,gJCjDEI,EAA2B,CACtCC,SAAS,EACTC,UAAW,KACXC,eAAe,EACfC,UAAW,aACXC,WAAY,aACZC,gBAAiB,aACjBC,gBAAiB,KACjBC,iBAAkB,cAGPC,EAAejC,wBAAcwB,GAE7BU,EAAuB,SAAC,GAI9B,IAHL7B,EAGI,EAHJA,SAGI,EAsBsB8B,sBArBH,SAACC,EAAmBC,GACzC,OAAQA,EAAOC,MACb,IAAK,QACH,OAAO,2BACFF,GADL,IAEEX,SAAUW,EAAMX,QAChBC,UAAWW,EAAOX,YAEtB,IAAK,eACH,OAAO,2BACFU,GADL,IAEET,eAAgBS,EAAMT,cACtBI,gBAAiBM,EAAON,kBAE5B,QACE,OAAO,eACFK,MAK0CZ,GAtBjD,mBAsBGY,EAtBH,KAsBUG,EAtBV,KAwBEC,EAAeC,IAAMC,SACzB,iBAAO,CACLd,UAAW,SAACF,GACVa,EAAS,CACPD,KAAM,QACNZ,eAGJG,WAAY,WACVU,EAAS,CACPD,KAAM,QACNZ,UAAW,QAGfI,gBAAiB,WAA+C,IAA9CC,EAA6C,uDAAT,KACpDQ,EAAS,CACPD,KAAM,eACNP,qBAGJC,iBAAkB,WAChBO,EAAS,CACPD,KAAM,eACNP,gBAAiB,WAKvB,IAGF,OACE,cAACE,EAAahB,SAAd,CACEC,MAAK,2BACAkB,GACAI,GAHP,SAMGnC,KAKMsC,EAAW,WACtB,IAAMvB,EAAUC,qBAAWY,GAC3B,QAAgBX,IAAZF,EACF,MAAM,IAAIG,MAAM,+CAElB,OAAOH,I,iCCtGT,kCAgBewB,IATC,WAEZ,OACE,cAAC,IAAD,CAAKC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAASC,QAAS,OAAQC,WAAY,SAAUC,eAAgB,UAArG,SACE,cAAC,IAAD,CAASC,UAAU,SAASC,QAAQ,a,4oECNtCC,EAAUC,gBAAK,kBAAM,kCACrBC,EAAOD,gBAAK,kBAAM,+DAClBE,EAAQF,gBAAK,kBAAM,6EACnBG,EAASH,gBAAK,kBAAM,6EACpBI,EAAeJ,gBAAK,kBAAM,6EAC1BK,EAAiBL,gBAAK,kBAAM,6EAC5BM,EAAgBN,gBAAK,kBAAM,6EAC3BO,EAAYP,gBAAK,kBAAM,uEACvBQ,EAAqBR,gBACzB,kBAAM,6EAEFS,EAAQT,gBAAK,kBAAM,6EACnBU,EAAaV,gBAAK,kBAAM,6EACxBW,EAAWX,gBAAK,kBAAM,6EACtBY,EAAMZ,gBAAK,kBAAM,6EACjBa,EAA0Bb,gBAC9B,kBAAM,6EAEFc,EAAyBd,gBAC7B,kBAAM,6EAEFe,EAAUf,gBAAK,kBAAM,sEACrBgB,EAAgBhB,gBAAK,kBAAM,6EAC3BiB,EAAajB,gBAAK,kBAAM,6EAE9B,SAASkB,EAAT,GAA8D,IAAxCnE,EAAuC,EAAvCA,SACZoE,EAAgBC,cAAhBD,YACJE,EAAWC,cAEf,YAAoBtD,IAAhBmD,EAAkC,KAClCA,EACK,cAAC,IAAD,CAAUI,GAAI,aAAczC,MAAO,CAAE0C,KAAMH,KAG7CtE,EAGT,SAAS0E,EAAT,GAAkE,IAAxC1E,EAAuC,EAAvCA,SAChBoE,EAAgBC,cAAhBD,YACJE,EAAWC,cACf,YAAoBtD,IAAhBmD,EAAkC,KACjCA,EAIEpE,EAHE,cAAC,IAAD,CAAUwE,GAAG,SAASzC,MAAO,CAAE0C,KAAMH,KAMhD,IA4IeK,EA5IM,WACnB,OACE,cAAC,WAAD,CAAUC,SAAU,cAACrC,EAAA,EAAD,IAApB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOsC,KAAK,IAAIC,QAAS,cAAC9B,EAAD,MACzB,cAAC,IAAD,CAAO6B,KAAK,IAAIC,QAAS,cAAC5B,EAAD,MACzB,cAAC,IAAD,CACE2B,KAAK,SACLC,QACE,cAACX,EAAD,UACE,cAAChB,EAAD,QAIN,cAAC,IAAD,CACE0B,KAAK,UACLC,QACE,cAACX,EAAD,UACE,cAACf,EAAD,QAIN,cAAC,IAAD,CACEyB,KAAK,iBACLC,QACE,cAACX,EAAD,UACE,cAACd,EAAD,QAIN,cAAC,IAAD,CACEwB,KAAK,mBACLC,QACE,cAACX,EAAD,UACE,cAACb,EAAD,QAIN,cAAC,IAAD,CACEuB,KAAK,yBACLC,QACE,cAACX,EAAD,UACE,cAACZ,EAAD,QAKN,cAAC,IAAD,CACEsB,KAAK,aACLC,QACE,cAACJ,EAAD,UACE,cAAClB,EAAD,QAIN,cAAC,IAAD,CACEqB,KAAK,2BACLC,QACE,cAACJ,EAAD,UACE,cAACjB,EAAD,QAIN,cAAC,IAAD,CACEoB,KAAK,SACLC,QACE,cAACJ,EAAD,UACE,cAAChB,EAAD,QAIN,cAAC,IAAD,CACEmB,KAAK,eACLC,QACE,cAACJ,EAAD,UACE,cAACf,EAAD,QAIN,cAAC,IAAD,CACEkB,KAAK,aACLC,QACE,cAACJ,EAAD,UACE,cAACd,EAAD,QAIN,cAAC,IAAD,CACEiB,KAAK,OACLC,QACE,cAACJ,EAAD,UACE,cAACb,EAAD,QAIN,cAAC,IAAD,CACEgB,KAAK,uBACLC,QACE,cAACJ,EAAD,UACE,cAACZ,EAAD,QAIN,cAAC,IAAD,CACEe,KAAK,sBACLC,QACE,cAACJ,EAAD,UACE,cAACX,EAAD,QAIN,cAAC,IAAD,CACEc,KAAK,WACLC,QACE,cAACJ,EAAD,UACE,cAACV,EAAD,QAIN,cAAC,IAAD,CACEa,KAAK,kBACLC,QACE,cAACJ,EAAD,UACE,cAACT,EAAD,QAIN,cAAC,IAAD,CACEY,KAAK,cACLC,QACE,cAACJ,EAAD,UACE,cAACR,EAAD,c,yGC7KRa,EAAW,IAAIC,KAAW,SAACC,EAAWC,GAQ1C,OAPAD,EAAUE,YAAW,gBAAGC,EAAH,EAAGA,QAAH,MAAuB,CAC1CA,QAAQ,aACNC,cAAeC,cAAaA,cAAa,IACtCF,OAIAF,EAAQD,MAGXM,EAAaC,IAAiB,CAClCC,IAAKvG,IACLwG,YAAa,gBAGFC,EAAS,IAAIC,IAAa,CACrCC,KAAMpB,YAAK,CAACM,EAASe,OAAOP,KAC5BQ,MAAO,IAAIC,MAGAC,EAAiBrF,ICRfsF,EAhBH,WACV,OACE,cAAC,IAAD,UACE,cAAC,EAAD,CAAgBP,OAAQA,EAAxB,SACI,cAAC5F,EAAA,EAAD,UACE,cAACoG,EAAA,EAAD,UACE,cAACtE,EAAA,EAAD,UACE,cAAC,EAAD,eCDDuE,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,+BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,mCCEdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,K,wPCnBahG,EAAO,uCAAG,WAAO8G,EAAarG,GAApB,SAAAL,EAAA,+EAEb,KAFa,gCAGZ2G,aAAa/G,QAAQ8G,EAAKrG,IAHd,gCAKnBP,QAAQ8G,MAAR,MALmB,wDAAH,wDASP3G,EAAO,uCAAG,WAAOyG,GAAP,SAAA1G,EAAA,+EAEb,KAFa,gCAGZ2G,aAAa1G,QAAQyG,IAHT,gCAKnB5G,QAAQ8G,MAAR,MALmB,wDAAH,sDASP9B,EAAW,WACtB,IAAIlB,EAAc,KACdiD,EAAUF,aAAa1G,QAAQ,YACnC,GAAgB,OAAZ4G,GAAoBA,EAAS,CAC/B,IAAIC,EAAYC,KAAKC,MAAMH,GACT,OAAdC,QAAgDrG,IAA1BqG,EAAUlD,cAClCA,EAAckD,EAAUlD,aAI5B,OAAOA,GAGF,SAASqD,EAAgBC,EAAeC,GAC7C,GAAID,EAASE,OAAS,EAAG,CAEvB,IADA,IAAIC,GAAW,EACNC,EAAI,EAAGA,EAAIH,EAAoBC,OAAQE,IAAK,CACnD,IAAIC,EAAWJ,EAAoBG,GACnC,GACEJ,EACGM,OAAON,EAASE,OAASG,EAASH,OAAQG,EAASH,QACnDK,gBAAkBF,EAASE,cAC9B,CACAJ,GAAW,EACX,OAGJ,IAAKA,EAAU,OAAO,EAExB,OAAO,EAGF,SAAeK,EAAtB,kC,4CAAO,WAAiCC,GAAjC,eAAA3H,EAAA,sEAQa4H,IAAM,CACtBC,OAAQ,OACRC,IAAK,mDACLC,KAAMJ,IAXH,cAQCK,EARD,yBAeEA,GAfF,4C,wDC7CP,oEAAO,IAAMC,EAAY,SACvBC,EACAC,GAEA,OAAOA,GAAWA,EAAQD,IAAgD,MAAnCC,EAAQD,GAAUE,cAG9CC,EAAY,SAACC,GACxB,IAAID,EAAY,GAQhB,OAPIC,EAAIC,aACNF,EAAYC,EAAIC,aACPD,EAAIE,eACbF,EAAIE,cAAcC,SAAQ,SAACH,GACzBD,EAAYC,EAAII,WAGbL,I,4NCrBIM,EAAcC,YAAH,qJASXC,EAAwBD,YAAH,uKASrBE,EAAuBF,YAAH,qKASpBG,EAAmCH,YAAH,yLAShCI,EAAsBJ,YAAH,mK,0CC0CnBjI,EAA0B,CACrCsI,SAAU,OACVrC,WAAOnG,EACPmD,iBAAanD,EACbyI,eAAgB,QAChBC,sBAAsB,WAAD,4BAAE,sBAAAnJ,EAAA,0FAAF,kDAAC,GACtBoJ,OAAO,WAAD,4BAAE,sBAAApJ,EAAA,0FAAF,kDAAC,GACPqJ,aAAa,WAAD,4BAAE,sBAAArJ,EAAA,0FAAF,kDAAC,GACbsJ,MAAM,WAAD,4BAAE,sBAAAtJ,EAAA,0FAAF,kDAAC,GACNuJ,eAAe,WAAD,4BAAE,sBAAAvJ,EAAA,0FAAF,kDAAC,GACfwJ,cAAc,WAAD,4BAAE,sBAAAxJ,EAAA,0FAAF,kDAAC,GACdyJ,0BAA0B,WAAD,4BAAE,sBAAAzJ,EAAA,0FAAF,kDAAC,GAC1B0J,aAAa,WAAD,4BAAE,sBAAA1J,EAAA,0FAAF,kDAAC,GACb2J,OAAO,WAAD,4BAAE,sBAAA3J,EAAA,0FAAF,kDAAC,IAGI4J,EAAczK,wBAAcwB,GAE5BgF,EAAsB,SAAC,GAI7B,IAHLnG,EAGI,EAHJA,SAIMqK,EAAeC,cADjB,EAEiBC,YAAYC,KAA1BC,EAFH,sBAGuBF,YAAYG,KAAhCC,EAHH,sBA4CsB7I,sBAtCH,SAAC8I,EAAmB5I,GACzC,OAAQA,EAAOC,MACb,IAAK,SACH,OAAO,2BACF2I,GADL,IAEEnB,SAAU,YACVrC,WAAOnG,EACPmD,YAAapC,EAAOoC,YACpBsF,eAAgB1H,EAAO0H,eACvBmB,eAAgB7I,EAAO6I,iBAE3B,IAAK,eACH,OAAO,2BACFD,GADL,IAEEnB,SAAU,OACVrC,MAAOpF,EAAOnB,QAElB,IAAK,UACH,OAAO,2BACF+J,GADL,IAEEnB,SAAU,gBACVrF,YAAa,GACbgD,WAAOnG,IAGX,IAAK,yBACH,OAAO,2BACF2J,GADL,IAEEC,eAAgB7I,EAAO6I,iBAG3B,QACE,OAAO,eACFD,MAK0CzJ,GA5CjD,mBA4CGY,EA5CH,KA4CUG,EA5CV,KA8CJ7B,qBAAU,YAEO,uCAAG,8BAAAG,EAAA,+EAEUC,YAAQ,YAFlB,eAGIQ,KADZqG,EAFQ,SAG+B,OAAdA,EAHjB,wBAINwD,EAAWvD,KAAKC,MAAMF,GAJhB,SAKNyD,EAAYb,aAAaY,EAAS1G,aAL5B,gDAQN4G,IARM,2EAWRA,IAXQ,0DAAH,qDAcfC,KAEC,IAEH,IAAMC,EAAO,uCAAG,WAAOC,GAAP,qBAAA3K,EAAA,6DACR4D,EAAc+G,EAAS/G,YACvBgH,EAAqBC,IAAIC,OAAOlH,EAAajF,KAC7CuK,EAC0B,kBAAvB0B,EACHA,EAAmB1B,eACnB,GACAf,EAAUpB,KAAKgE,UAAU,CAAEnH,gBAPnB,SAQRhE,YAAQ,WAAYuI,GARZ,cAWdzG,EAAS,CACPD,KAAM,SACNmC,YAAaA,EACbsF,eAAgBA,EAChBmB,eAAgB,KAfJ,SAiBRW,EAAkBpH,GAjBV,2CAAH,sDAoBP4G,EAAWS,sBAAW,sBAAC,sBAAAjL,EAAA,sEACrBJ,YAAQ,WAAY,IADC,OAG3B8B,EAAS,CAAED,KAAM,YAHU,2CAI1B,IAEGuJ,EAAoBC,sBAAW,uCAAC,WAAOrH,GAAP,iBAAA5D,EAAA,sEACb6J,EAAaqB,MAAM,CACxCA,MAAOC,IACPC,UAAW,CAAEC,MAAO,CAAEzH,kBAHY,gBAC5BmE,EAD4B,EAC5BA,KAIJE,YAAU,oBAAqBF,IACjCrG,EAAS,CACPD,KAAM,yBACN4I,eAAgBtC,EAAKiD,kBAAkBjD,KAAK,KARZ,2CAAD,sDAWlC,IAEGwC,EAAc3I,IAAMC,SACxB,iBAAO,CACLsH,sBAAsB,WAAD,4BAAE,sBAAAnJ,EAAA,0DACjBuB,EAAMqC,YADW,gCACQoH,EAAkBzJ,EAAMqC,aADhC,2CAAF,kDAAC,GAGtB0F,MAAM,WAAD,4BAAE,mCAAAtJ,EAAA,6DACLsL,EADK,EACLA,SACAC,EAFK,EAELA,SAFK,SAOkB1B,EAAaqB,MAAM,CACxCA,MAAOvC,EACPyC,UAAW,CAAEC,MAAO,CAAEC,WAAUC,aAChCC,YAAa,aAVV,mBAOGzD,EAPH,EAOGA,MAKJE,YAAU,QAASF,GAZlB,gCAaG2C,EAAQ3C,EAAKuB,MAAMvB,MAbtB,2CAAF,mDAAC,GAiBNwB,eAAe,WAAD,4BAAE,iCAAAvJ,EAAA,6DAASyL,EAAT,EAASA,MAAT,SACS5B,EAAaqB,MAAM,CACxCA,MAAOrC,EACPuC,UAAW,CAAEC,MAAO,CAAEI,YAHV,mBACN1D,EADM,EACNA,MAIJE,YAAU,iBAAkBF,GALlB,yCAMLA,EAAKwB,eAAexB,MANf,2CAAF,mDAAC,GAUfyB,cAAc,WAAD,4BAAE,qCAAAxJ,EAAA,6DACb0L,EADa,EACbA,MACAC,EAFa,EAEbA,YACAJ,EAHa,EAGbA,SAHa,SASU1B,EAAaqB,MAAM,CACxCA,MAAOpC,EACPsC,UAAW,CACTC,MAAO,CAAEK,QAAOH,WAAUI,YAAaA,GAAe,OAZ7C,mBASL5D,EATK,EASLA,MAMJE,YAAU,gBAAiBF,GAflB,yCAgBJA,EAAKyB,cAAczB,MAhBf,2CAAF,mDAAC,GAmBd0B,0BAA0B,WAAD,4BAAE,iCAAAzJ,EAAA,6DAAS0L,EAAT,EAASA,MAAT,SACF7B,EAAaqB,MAAM,CACxCA,MAAOnC,EACPqC,UAAW,CAAEC,MAAO,CAAEK,YAHC,mBACjB3D,EADiB,EACjBA,MAIJE,YAAU,0BAA2BF,GALhB,yCAMhBA,EAAK6D,wBAAwB7D,MANb,2CAAF,mDAAC,GAU1BqB,OAAO,WAAD,4BAAE,WAAOyC,GAAP,iBAAA7L,EAAA,sEACiBiK,EAAW,CAChCmB,UAAW,CAAEC,MAAOQ,KAFhB,mBACE9D,EADF,EACEA,MAIJE,YAAU,SAAUF,GALlB,gCAMEwC,EAAYjB,MAAM,CACtBgC,SAAUO,EAAWJ,MACrBF,SAAUM,EAAWN,WARnB,2CAAF,mDAAC,GAYPlC,aAAa,WAAD,4BAAE,WAAOwC,GAAP,iBAAA7L,EAAA,sEACWmK,EAAiB,CACtCiB,UAAW,CAAEC,MAAOQ,KAFV,mBACJ9D,EADI,EACJA,MAIJE,YAAU,eAAgBF,GALlB,gCAMJwC,EAAYjB,MAAM,CACtBgC,SAAUO,EAAWJ,MACrBF,SAAUM,EAAWN,WARb,2CAAF,mDAAC,GAab7B,aAAa,WAAD,4BAAE,WAAO9F,GAAP,iBAAA5D,EAAA,sEACW6J,EAAaqB,MAAM,CACxCA,MAAOlC,EACPoC,UAAW,CAAEC,MAAO,CAAEzH,kBAHZ,mBACJmE,EADI,EACJA,MAIJE,YAAU,eAAgBF,GALlB,gCAMJ2C,EAAQ3C,EAAK2B,aAAa3B,MANtB,8BAQVwC,EAAYZ,SARF,4CAAF,mDAAC,GAYbA,OAAO,WAAD,4BAAE,sBAAA3J,EAAA,sEACAwK,IADA,2CAAF,kDAAC,MAKT,CAACjJ,IAGCuK,EAAetM,EAKnB,MAJuB,cAAnB+B,EAAM0H,UAA6B1H,EAAM8I,iBAC3CyB,EAAe,MAIf,cAAClC,EAAYxJ,SAAb,CACEC,MAAK,2BACAkB,GACAgJ,GAHP,SAMGuB,KAKMjI,EAAU,WACrB,IAAMtD,EAAUC,qBAAWoJ,GAC3B,QAAgBnJ,IAAZF,EACF,MAAM,IAAIG,MAAM,6CAElB,OAAOH,I,klBC7UI4K,EAAwBvC,YAAH,2JASrBmD,EAA2BnD,YAAH,qJASxBoB,EAAepB,YAAH,2IASZsB,EAAsBtB,YAAH,uJAkBnBoD,GAT+BpD,YAAH,qKASGA,YAAH,+JAS5BqD,EAAqCrD,YAAH,wKASlCsD,EAAkBtD,YAAH,uJAUfuD,EAAwBvD,YAAH,iKAYrBwD,EAAuBxD,YAAH,iJASpByD,EAA6BzD,YAAH,2JAS1B0D,EAAuB1D,YAAH,iJASpB2D,EAA+B3D,YAAH,2JAS5B4D,EAAiC5D,YAAH,mKAS9B6D,EAAuB7D,YAAH,mJASpB8D,EAA6B9D,YAAH,+J","file":"static/js/main.fb08746c.chunk.js","sourcesContent":["require('dotenv').config();\nconst L_SITE_URL = \"http://localhost:3000\";\nexport const L_API_URL = \"http://localhost:8080/graphql\";\nconst P_SITE_URL = \"http://bidtoaster.com\";\nexport const P_API_URL = \"http://23.101.24.189/graphql\";\nexport const SITE_URL = process.env.NODE_ENV === \"production\" ? P_SITE_URL : L_SITE_URL;\nexport const API_URL = process.env.NODE_ENV === \"production\" ? P_API_URL : L_API_URL;\nexport const JWTToken = (process.env.REACT_APP_JWTToken || \"\");","import React, { createContext, useState, useContext, useEffect } from 'react';\nimport LocalizedStrings from 'react-localization';\nimport en from '../localization/en.json';\nimport { getItem, setItem } from 'utils/CommonUtils';\n\nconst DEFAULT_LANGUAGE = 'en';\nconst APP_LANGUAGE_KEY = 'appLanguage';\n\nconst strings = new LocalizedStrings({ en });\n\nexport const LocalizationContext = createContext({\n    strings: strings,\n    setAppLanguage: (_: string) => {},\n    appLanguage: DEFAULT_LANGUAGE,\n});\n\n/**\n * LocalizationContextProvider manages localization/i18n strings for the app. It allows switching the app language\n * on the fly and allows overriding the localized strings via server configuration.\n */\nexport const LocalizationContextProvider = ({ children }: { children: React.ReactNode }) => {\n    const [appLanguage, setAppLanguage] = useState(DEFAULT_LANGUAGE);\n\n    const setLanguage = (language: string) => {\n        strings.setLanguage(language);\n        setAppLanguage(language);\n        setItem(APP_LANGUAGE_KEY, language);\n    };\n\n    /**\n     * Run the side-effect on initial load only\n     */\n    useEffect(() => {\n        console.debug('[LocalizationContext] Setup app lang');\n\n        const initAppLanguage = async () => {\n            const currentLanguage = await getItem(APP_LANGUAGE_KEY);\n            setLanguage(currentLanguage || DEFAULT_LANGUAGE);\n        };\n\n        // Determines and sets up the language to use\n        initAppLanguage();\n\n    }, []);\n\n    return (\n        <LocalizationContext.Provider\n            value={{\n                strings,\n                setAppLanguage: setLanguage,\n                appLanguage,\n            }}>\n            {children}\n        </LocalizationContext.Provider>\n    );\n};\n\nexport const useLocalization = () => {\n    const context = useContext(LocalizationContext);\n    if (context === undefined) {\n        throw new Error('useLocalization must be used within a LocalizationContext');\n    }\n    return context;\n};\n\n","import React, { createContext, useReducer, useContext } from \"react\";\nimport { StringMap } from \"helpers/interfaces\";\nexport interface ModalState {\n  isModal: boolean;\n  modalData?: StringMap | null;\n  isDeleteModal: boolean;\n  openModal: (modalData: StringMap | null) => void;\n  closeModal: () => void;\n  openDeleteModal: () => void;\n  deleteModalData?: StringMap | null;\n  closeDeleteModal: () => void;\n}\n\nexport const initialState: ModalState = {\n  isModal: false,\n  modalData: null,\n  isDeleteModal: false,\n  openModal: () => {},\n  closeModal: () => {},\n  openDeleteModal: () => {},\n  deleteModalData: null,\n  closeDeleteModal: () => {},\n};\n\nexport const ModalContext = createContext(initialState);\n\nexport const ModalContextProvider = ({\n  children,\n}: {\n  children: React.ReactNode;\n}) => {\n  const controlReducer = (state: ModalState, action: any): ModalState => {\n    switch (action.name) {\n      case \"MODAL\":\n        return {\n          ...state,\n          isModal: !state.isModal,\n          modalData: action.modalData,\n        };\n      case \"DELETE_MODAL\":\n        return {\n          ...state,\n          isDeleteModal: !state.isDeleteModal,\n          deleteModalData: action.deleteModalData,\n        };\n      default:\n        return {\n          ...state,\n        };\n    }\n  };\n\n  const [state, dispatch] = useReducer(controlReducer, initialState);\n\n  const modalActions = React.useMemo(\n    () => ({\n      openModal: (modalData: StringMap | null) => {\n        dispatch({\n          name: \"MODAL\",\n          modalData,\n        });\n      },\n      closeModal: () => {\n        dispatch({\n          name: \"MODAL\",\n          modalData: null,\n        });\n      },\n      openDeleteModal: (deleteModalData: StringMap | null = null) => {\n        dispatch({\n          name: \"DELETE_MODAL\",\n          deleteModalData,\n        });\n      },\n      closeDeleteModal: () => {\n        dispatch({\n          name: \"DELETE_MODAL\",\n          deleteModalData: null,\n        });\n      },\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return (\n    <ModalContext.Provider\n      value={{\n        ...state,\n        ...modalActions,\n      }}\n    >\n      {children}\n    </ModalContext.Provider>\n  );\n};\n\nexport const useModal = () => {\n  const context = useContext(ModalContext);\n  if (context === undefined) {\n    throw new Error(\"useModal must be used within a ModalContext\");\n  }\n  return context;\n};\n","import React from 'react';\n\nimport {\n  Spinner,\n  Row\n} from \"reactstrap\";\n\nconst Loading = () => {\n\n    return (\n      <Row style={{ width: \"100%\", height: \"100vh\", display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n        <Spinner animation=\"border\" variant=\"dark\" />\n      </Row>\n    );\n}\n\nexport default Loading;","import { lazy, Suspense } from \"react\";\nimport { Routes, Route, Navigate, useLocation } from \"react-router-dom\";\nimport Loading from \"components/Loading\";\nimport { useAuth } from \"contexts/AuthContextProvider\";\n\nconst NoMatch = lazy(() => import(\"components/NoMatch\"));\nconst Home = lazy(() => import(\"pages/Home\"));\nconst Login = lazy(() => import(\"pages/Login\"));\nconst Signup = lazy(() => import(\"pages/Signup\"));\nconst VendorSignup = lazy(() => import(\"pages/VendorSignup\"));\nconst ForgotPassword = lazy(() => import(\"pages/ForgotPassword\"));\nconst ResetPassword = lazy(() => import(\"pages/ResetPassword\"));\nconst Dashboard = lazy(() => import(\"pages/Dashboard\"));\nconst AdminResetPassword = lazy(\n  () => import(\"containers/Settings/AdminResetPassword\")\n);\nconst Users = lazy(() => import(\"pages/Users\"));\nconst OrgVendors = lazy(() => import(\"pages/OrgVendors\"));\nconst OrgItems = lazy(() => import(\"pages/OrgItems\"));\nconst RFQ = lazy(() => import(\"pages/RFQ\"));\nconst VendorRFQBiddingDetails = lazy(\n  () => import(\"containers/RFQ/VendorRFQBiddingDetails\")\n);\nconst BuyerRFQBiddingDetails = lazy(\n  () => import(\"containers/RFQ/BuyerRFQBiddingDetails\")\n);\nconst Profile = lazy(() => import(\"pages/Profile\"));\nconst VendorProfile = lazy(() => import(\"pages/VendorProfile\"));\nconst Comparison = lazy(() => import(\"pages/Comparison\"));\n\nfunction GuestRoute({ children }: { children: JSX.Element }) {\n  const { accessToken } = useAuth();\n  let location = useLocation();\n\n  if (accessToken === undefined) return null;\n  if (accessToken) {\n    return <Navigate to={\"/dashboard\"} state={{ from: location }} />;\n  }\n\n  return children;\n}\n\nfunction ProtectedRoute({ children }: { children: JSX.Element }) {\n  const { accessToken } = useAuth();\n  let location = useLocation();\n  if (accessToken === undefined) return null;\n  if (!accessToken) {\n    return <Navigate to=\"/login\" state={{ from: location }} />;\n  }\n\n  return children;\n}\n\nconst RoutesScreen = () => {\n  return (\n    <Suspense fallback={<Loading />}>\n      <Routes>\n        <Route path=\"*\" element={<NoMatch />} />\n        <Route path=\"/\" element={<Home />} />\n        <Route\n          path=\"/login\"\n          element={\n            <GuestRoute>\n              <Login />\n            </GuestRoute>\n          }\n        />\n        <Route\n          path=\"/signup\"\n          element={\n            <GuestRoute>\n              <Signup />\n            </GuestRoute>\n          }\n        />\n        <Route\n          path=\"/vendor-signup\"\n          element={\n            <GuestRoute>\n              <VendorSignup />\n            </GuestRoute>\n          }\n        />\n        <Route\n          path=\"/forgot-password\"\n          element={\n            <GuestRoute>\n              <ForgotPassword />\n            </GuestRoute>\n          }\n        />\n        <Route\n          path=\"/reset-password/:token\"\n          element={\n            <GuestRoute>\n              <ResetPassword />\n            </GuestRoute>\n          }\n        />\n\n        <Route\n          path=\"/dashboard\"\n          element={\n            <ProtectedRoute>\n              <Dashboard />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/settings/reset-password\"\n          element={\n            <ProtectedRoute>\n              <AdminResetPassword />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/users\"\n          element={\n            <ProtectedRoute>\n              <Users />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/org-vendors\"\n          element={\n            <ProtectedRoute>\n              <OrgVendors />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/org-items\"\n          element={\n            <ProtectedRoute>\n              <OrgItems />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/rfq\"\n          element={\n            <ProtectedRoute>\n              <RFQ />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/vendor/rfq/view/:id\"\n          element={\n            <ProtectedRoute>\n              <VendorRFQBiddingDetails />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/buyer/rfq/view/:id\"\n          element={\n            <ProtectedRoute>\n              <BuyerRFQBiddingDetails />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/profile\"\n          element={\n            <ProtectedRoute>\n              <Profile />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/vendor-profile\"\n          element={\n            <ProtectedRoute>\n              <VendorProfile />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/comparison\"\n          element={\n            <ProtectedRoute>\n              <Comparison />\n            </ProtectedRoute>\n          }\n        />\n      </Routes>\n    </Suspense>\n  );\n};\n\nexport default RoutesScreen;\n","import {\n  ApolloClient,\n  InMemoryCache,\n  from,\n  ApolloLink,\n  ApolloProvider as Provider,\n} from \"@apollo/client\";\nimport { createUploadLink } from \"apollo-upload-client\";\nimport { API_URL } from \"config/constant\";\nimport { getToken } from \"utils/CommonUtils\";\n\nconst authLink = new ApolloLink((operation, forward) => {\n  operation.setContext(({ headers }: any) => ({\n    headers: {\n      authorization: getToken() ? getToken() : \"\",\n      ...headers,\n    },\n  }));\n  \n  return forward(operation);\n});\n\nconst uploadLink = createUploadLink({\n  uri: API_URL,\n  credentials: \"same-origin\",\n});\n\nexport const client = new ApolloClient({\n  link: from([authLink.concat(uploadLink)]),\n  cache: new InMemoryCache(),\n});\n\nexport const ApolloProvider = Provider;\n","import { BrowserRouter } from \"react-router-dom\";\nimport Routes from \"routes/routes\";\nimport { AuthContextProvider } from \"contexts/AuthContextProvider\";\nimport { LocalizationContextProvider } from \"contexts/LocalizationContextProvider\";\nimport { ModalContextProvider } from \"contexts/ModalContextProvider\";\nimport { ApolloProvider, client } from \"utils/ApolloUtils\";\nimport unspscDataList from \"assets/json/unspsc.json\";\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <ApolloProvider client={client}>\n          <LocalizationContextProvider>\n            <AuthContextProvider>\n              <ModalContextProvider>\n                <Routes />\n              </ModalContextProvider>\n            </AuthContextProvider>\n          </LocalizationContextProvider>\n      </ApolloProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport \"./assets/vendor/nucleo/css/nucleo.css\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport \"./assets/css/argon-dashboard-pro-react.css\";\nimport \"./assets/css/common.css\";\nimport \"./assets/css/toast.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import axios from \"axios\";\n\nexport const setItem = async (key: string, value: any) => {\n  try {\n    await null;\n    return localStorage.setItem(key, value);\n  } catch (e) {\n    console.error(e);\n  }\n};\n\nexport const getItem = async (key: string) => {\n  try {\n    await null;\n    return localStorage.getItem(key);\n  } catch (e) {\n    console.error(e);\n  }\n};\n\nexport const getToken = () => {\n  let accessToken = null;\n  let isToken = localStorage.getItem(\"bt.token\" || \"\");\n  if (isToken !== null && isToken) {\n    let tokenData = JSON.parse(isToken);\n    if (tokenData !== null && tokenData.accessToken !== undefined) {\n      accessToken = tokenData.accessToken;\n    }\n  }\n\n  return accessToken;\n};\n\nexport function validateFileExt(fileName: any, validFileExtensions: any[]) {\n  if (fileName.length > 0) {\n    let blnValid = false;\n    for (let j = 0; j < validFileExtensions.length; j++) {\n      let validExt = validFileExtensions[j];\n      if (\n        fileName\n          .substr(fileName.length - validExt.length, validExt.length)\n          .toLowerCase() === validExt.toLowerCase()\n      ) {\n        blnValid = true;\n        break;\n      }\n    }\n    if (!blnValid) return false;\n  }\n  return true;\n}\n\nexport async function getComparisonData(reqValues: {\n  comparisonName: string;\n  comparisonDate: string;\n  buyerDescription: any[];\n  buyerFileupload: any[];\n  vendorDescription: any[];\n  vendorFileupload: any[];\n}) {\n  const res = await axios({\n    method: \"post\",\n    url: \"http://52.187.104.169:5001/dashboard_comparison/\",\n    data: reqValues,\n    // headers: { \"Content-Type\": \"multipart/form-data\" },\n  });\n\n  return res;\n}\n","export interface AccountProfile {\n  id: number;\n  firstName: string;\n  email: string;\n  phoneNumber: string;\n}\n\nexport const isSuccess = (\n  endpoint: string,\n  payload: { [key: string]: any } | undefined | null\n) => {\n  return payload && payload[endpoint] && payload[endpoint].responseCode === \"1\";\n};\n\nexport const errorCode = (err: { [key: string]: any }) => {\n  let errorCode = \"\";\n  if (err.networkError) {\n    errorCode = err.networkError;\n  } else if (err.graphQLErrors) {\n    err.graphQLErrors.forEach((err: any) => {\n      errorCode = err.message;\n    });\n  }\n  return errorCode;\n};\n","import gql from 'graphql-tag';\n\nexport const LOGIN_QUERY = gql`\n    query($input: LoginRequest) {\n      login(input: $input) {\n          responseCode\n          data\n      }\n    }\n`;\n\nexport const FORGOT_PASSWORD_QUERY = gql`\n    query($input: ForgotPasswordRequest) {\n      forgotPassword(input: $input) {\n          responseCode\n          data\n      }\n    }\n`;\n\nexport const RESET_PASSWORD_QUERY = gql`\n    query($input: ResetPasswordRequest) {\n      resetPassword(input: $input) {\n          responseCode\n          data\n      }\n    }\n`;\n\nexport const PASSWORD_RESET_TOKEN_VALID_QUERY = gql`\n    query($input: PasswordResetTokenValidRequest) {\n      passwordResetTokenValid(input: $input) {\n          responseCode\n          data\n      }\n    }\n`;\n\nexport const REFRESH_TOKEN_QUERY = gql`\n    query($input: RefreshTokenRequest) {\n      refreshToken(input: $input) {\n          responseCode\n          data\n      }\n    }\n`;","import React, {\n  createContext,\n  useReducer,\n  useContext,\n  useEffect,\n  useCallback,\n} from \"react\";\nimport { getItem, setItem } from \"utils/CommonUtils\";\nimport { isSuccess } from \"utils/ServiceAPIUtil\";\nimport { useApolloClient, useMutation } from \"@apollo/client\";\nimport {\n  LOGIN_QUERY,\n  REFRESH_TOKEN_QUERY,\n  FORGOT_PASSWORD_QUERY,\n  RESET_PASSWORD_QUERY,\n  PASSWORD_RESET_TOKEN_VALID_QUERY,\n} from \"graphql/auth\";\nimport {\n  SIGNUP_QUERY,\n  VENDOR_SIGNUP_QUERY,\n  ACCOUNT_PROFILE_QUERY,\n} from \"graphql/users\";\nimport jwt from \"jsonwebtoken\";\nimport { JWTToken } from \"config/constant\";\nimport { UserAccessType, USER_TYPE } from \"helpers/interfaces\";\nimport { StringMap } from \"helpers/interfaces\";\n\nexport interface UserState {\n  userType: USER_TYPE;\n  error?: Error;\n  accessToken?: string;\n  userAccessType: UserAccessType;\n  accountProfile?: StringMap;\n  refetchAccountProfile: () => Promise<any>;\n  signup: ({\n    userAccessType,\n    firstName,\n    lastName,\n    email,\n    phoneNumber,\n    organizationName,\n    organizationType,\n    natureOfBusiness,\n    companyRegistrationNo,\n    password,\n  }: {\n    userAccessType: string;\n    firstName: string;\n    lastName: string;\n    email: string;\n    phoneNumber: string;\n    organizationName: string;\n    organizationType: string;\n    natureOfBusiness: string;\n    companyRegistrationNo: string;\n    password: string;\n  }) => Promise<any>;\n  vendorSignup: (formValues: any) => Promise<any>;\n  login: ({\n    username,\n    password,\n  }: {\n    username: string;\n    password: string;\n  }) => Promise<any>;\n  forgotPassword: ({ email }: { email: string }) => Promise<any>;\n  resetPassword: ({\n    token,\n    oldPassword,\n    password,\n  }: {\n    token: string;\n    oldPassword?: string;\n    password: string;\n  }) => Promise<any>;\n  isPasswordResetTokenValid: ({ token }: { token: string }) => Promise<any>;\n  refreshToken: (tokenData: any) => Promise<void>;\n  logout: () => Promise<void>;\n}\n\nexport const initialState: UserState = {\n  userType: \"INIT\",\n  error: undefined,\n  accessToken: undefined,\n  userAccessType: \"buyer\",\n  refetchAccountProfile: async () => {},\n  signup: async () => {},\n  vendorSignup: async () => {},\n  login: async () => {},\n  forgotPassword: async () => {},\n  resetPassword: async () => {},\n  isPasswordResetTokenValid: async () => {},\n  refreshToken: async () => {},\n  logout: async () => {},\n};\n\nexport const AuthContext = createContext(initialState);\n\nexport const AuthContextProvider = ({\n  children,\n}: {\n  children: React.ReactNode;\n}) => {\n  const apolloClient = useApolloClient();\n  const [userSignup] = useMutation(SIGNUP_QUERY);\n  const [userVendorSignup] = useMutation(VENDOR_SIGNUP_QUERY);\n  // const [currentAccessToken, setCurrentAccessToken] = useState(\"\");\n\n  const controlReducer = (_state: UserState, action: any): UserState => {\n    switch (action.name) {\n      case \"LOG_IN\":\n        return {\n          ..._state,\n          userType: \"LOGGED_IN\",\n          error: undefined,\n          accessToken: action.accessToken,\n          userAccessType: action.userAccessType,\n          accountProfile: action.accountProfile,\n        };\n      case \"LOG_IN_ERROR\":\n        return {\n          ..._state,\n          userType: \"INIT\",\n          error: action.value,\n        };\n      case \"LOG_OUT\": {\n        return {\n          ..._state,\n          userType: \"NOT_LOGGED_IN\",\n          accessToken: \"\",\n          error: undefined,\n        };\n      }\n      case \"UPDATE_ACCOUNT_PROFILE\": {\n        return {\n          ..._state,\n          accountProfile: action.accountProfile,\n        };\n      }\n      default:\n        return {\n          ..._state,\n        };\n    }\n  };\n\n  const [state, dispatch] = useReducer(controlReducer, initialState);\n\n  useEffect(() => {\n    // Fetch the token from storage then navigate to our appropriate place\n    const authCheck = async () => {\n      try {\n        const tokenData = await getItem(\"bt.token\");\n        if (tokenData !== undefined && tokenData !== null) {\n          const tokenObj = JSON.parse(tokenData);\n          await authActions.refreshToken(tokenObj.accessToken);\n          // await doLogin(tokenObj);\n        } else {\n          await doLogout();\n        }\n      } catch {\n        await doLogout();\n      }\n    };\n    authCheck();\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const doLogin = async (response: { accessToken: string }) => {\n    const accessToken = response.accessToken;\n    const accessTokenDecrypt = jwt.verify(accessToken, JWTToken);\n    const userAccessType =\n      typeof accessTokenDecrypt === \"object\"\n        ? accessTokenDecrypt.userAccessType\n        : \"\";\n    const payload = JSON.stringify({ accessToken });\n    await setItem(\"bt.token\", payload);\n    // setCurrentAccessToken(accessToken);\n\n    dispatch({\n      name: \"LOG_IN\",\n      accessToken: accessToken,\n      userAccessType: userAccessType,\n      accountProfile: {},\n    });\n    await getAccountProfile(accessToken);\n  };\n\n  const doLogout = useCallback(async () => {\n    await setItem(\"bt.token\", \"\");\n    // setCurrentAccessToken(\"\");\n    dispatch({ name: \"LOG_OUT\" });\n  }, []);\n\n  const getAccountProfile = useCallback(async (accessToken: string) => {\n    const { data } = await apolloClient.query({\n      query: ACCOUNT_PROFILE_QUERY,\n      variables: { input: { accessToken } },\n    });\n    if (isSuccess(\"getAccountProfile\", data)) {\n      dispatch({\n        name: \"UPDATE_ACCOUNT_PROFILE\",\n        accountProfile: data.getAccountProfile.data[0],\n      });\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const authActions = React.useMemo(\n    () => ({\n      refetchAccountProfile: async () => {\n        if (state.accessToken) await getAccountProfile(state.accessToken);\n      },\n      login: async ({\n        username,\n        password,\n      }: {\n        username: string;\n        password: string;\n      }) => {\n        const { data } = await apolloClient.query({\n          query: LOGIN_QUERY,\n          variables: { input: { username, password } },\n          fetchPolicy: \"no-cache\",\n        });\n        if (isSuccess(\"login\", data)) {\n          await doLogin(data.login.data);\n        }\n      },\n\n      forgotPassword: async ({ email }: { email: string }) => {\n        const { data } = await apolloClient.query({\n          query: FORGOT_PASSWORD_QUERY,\n          variables: { input: { email } },\n        });\n        if (isSuccess(\"forgotPassword\", data)) {\n          return data.forgotPassword.data;\n        }\n      },\n\n      resetPassword: async ({\n        token,\n        oldPassword,\n        password,\n      }: {\n        token: string;\n        oldPassword?: string;\n        password: string;\n      }) => {\n        const { data } = await apolloClient.query({\n          query: RESET_PASSWORD_QUERY,\n          variables: {\n            input: { token, password, oldPassword: oldPassword || \"\" },\n          },\n        });\n        if (isSuccess(\"resetPassword\", data)) {\n          return data.resetPassword.data;\n        }\n      },\n      isPasswordResetTokenValid: async ({ token }: { token: string }) => {\n        const { data } = await apolloClient.query({\n          query: PASSWORD_RESET_TOKEN_VALID_QUERY,\n          variables: { input: { token } },\n        });\n        if (isSuccess(\"passwordResetTokenValid\", data)) {\n          return data.passwordResetTokenValid.data;\n        }\n      },\n\n      signup: async (formValues: any) => {\n        const { data } = await userSignup({\n          variables: { input: formValues },\n        });\n\n        if (isSuccess(\"signup\", data)) {\n          await authActions.login({\n            username: formValues.email,\n            password: formValues.password,\n          });\n        }\n      },\n      vendorSignup: async (formValues: any) => {\n        const { data } = await userVendorSignup({\n          variables: { input: formValues },\n        });\n\n        if (isSuccess(\"vendorSignup\", data)) {\n          await authActions.login({\n            username: formValues.email,\n            password: formValues.password,\n          });\n        }\n      },\n\n      refreshToken: async (accessToken: string) => {\n        const { data } = await apolloClient.query({\n          query: REFRESH_TOKEN_QUERY,\n          variables: { input: { accessToken } },\n        });\n        if (isSuccess(\"refreshToken\", data)) {\n          await doLogin(data.refreshToken.data);\n        } else {\n          authActions.logout();\n        }\n      },\n\n      logout: async () => {\n        await doLogout();\n      },\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [state]\n  );\n\n  let authChildren = children;\n  if (state.userType === \"LOGGED_IN\" && !state.accountProfile) {\n    authChildren = null;\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        ...state,\n        ...authActions,\n      }}\n    >\n      {authChildren}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within a AuthContext\");\n  }\n  return context;\n};\n","import gql from \"graphql-tag\";\n\nexport const ACCOUNT_PROFILE_QUERY = gql`\n  query ($input: AccountProfileRequest) {\n    getAccountProfile(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n\nexport const GET_VENDOR_PROFILE_QUERY = gql`\n  query ($input: VendorSearchCond) {\n    getVendorProfile(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n\nexport const SIGNUP_QUERY = gql`\n  mutation ($input: SignupRequest) {\n    signup(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n\nexport const VENDOR_SIGNUP_QUERY = gql`\n  mutation ($input: VendorSignupRequest) {\n    vendorSignup(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n\nexport const UPDATE_ACCOUNT_PROFILE_QUERY = gql`\nmutation ($input: UpdateAccountProfileRequest) {\n    updateAccountProfile(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n\nexport const GET_DASHBOARD_OVERVIEW_QUERY = gql`\n  query ($input: DashboardOverviewCond) {\n    getDashboardOverview(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n\nexport const GET_DASHBOARD_CHART_OVERVIEW_QUERY = gql`\n  query ($input: DashboardChartOverviewCond) {\n    getDashboardChartOverview(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n\nexport const GET_USERS_QUERY = gql`\n  query ($input: UsersCond) {\n    getUsers(input: $input) {\n      responseCode\n      data\n      dataCount\n    }\n  }\n`;\n\nexport const GET_ORG_VENDORS_QUERY = gql`\n  query ($input: OrgVendorsCond) {\n    getOrgVendors(input: $input) {\n      responseCode\n      data\n      dataCount\n    }\n  }\n`;\n\n\n// Mutation\nexport const CREATE_USER_MUTATION = gql`\n  mutation ($input: UserFormRequest) {\n    createUser(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n\nexport const CREATE_ORG_VENDOR_MUTATION = gql`\n  mutation ($input: OrgVendorFormRequest) {\n    createOrgVendor(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n\nexport const UPDATE_USER_MUTATION = gql`\n  mutation ($input: UserFormRequest) {\n    updateUser(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n\nexport const UPDATE_USER_PROFILE_MUTATION = gql`\n  mutation ($input: UserProfileFormRequest) {\n    updateProfile(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n\nexport const UPDATE_VENDOR_PROFILE_MUTATION = gql`\n  mutation ($input: VendorProfileFormRequest) {\n    updateVendorProfile(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n\nexport const DELETE_USER_MUTATION = gql`\n  mutation ($input: UserDeleteRequest) {\n    deleteUser(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n\nexport const DELETE_ORG_VENDOR_MUTATION = gql`\n  mutation ($input: OrgVendorDeleteRequest) {\n    deleteOrgVendor(input: $input) {\n      responseCode\n      data\n    }\n  }\n`;\n"],"sourceRoot":""}